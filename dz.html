<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="css/styles.css" rel="stylesheet">
    <script src="js/vue.js"></script>
</head>
<body>
    <div class="container">
      <div class="sample col-sm-6 col-sm-offset-3">
        <form v-if="formFlag">
          <div class="form-group">
            <label for="exampleInputEmail1">Email</label>
            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" v-model="personalData.email">
          </div>
          <div class="form-group">
            <label for="FirstName">First Name</label>
            <input type="text" class="form-control" id="FirstName" placeholder="First Name" v-model="personalData.firstName">
          </div>
          <div class="form-group">
            <label for="Lastname">Last Name</label>
            <input type="text" class="form-control" id="Lastname" placeholder="Last Name" v-model="personalData.lastname">
          </div>
          <div class="form-group">
            <label for="phone">Phone</label>
            <input type="text" class="form-control" id="phone" placeholder="Phone" v-model="personalData.phone">
          </div>
          <span>Guests</span><button type="button" class="btn btn-primary" @click="personalData.guests.push('')">+</button>
          <div class="form-group" v-for="(guest,index) in personalData.guests">
            <label v-on:dblclick="personalData.guests.splice(index, 1)">Guest {{index + 1}}</label>
            <input type="text" class="form-control" v-model="personalData.guests[index]">
          </div>
          <hr/>
          <button type="button" class="btn btn-success" @click="formFlag = false;">SendData</button>
        </form>
        <div v-else>
          <table class="table table-bordered" >
            <tr v-for="(value, key, i) in personalData">
                <td>{{ key }}</td>
                <td v-if="key!== 'guests'">{{ value }}</td>
                <td v-else>
                  <table class="table table-bordered">
                    <tr v-for="guest in personalData.guests">
                      <td>{{guest}}</td>
                    </tr>
                  </table>
                </td>
            </tr>
          </table>
        </div>
    </div>
   </div>
    <script>
        let sample = new Vue({
            el: '.sample',
            data: {
              personalData: {
                email: '',
                firstName: '',
                lastname: '',
                phone: '',
                guests: [],
              },

              formFlag: true
            },
            methods: {
              sendForm() {
                console.log(this.personalData.guests);
              }
            }
        });
    </script>
</body>
</html>
